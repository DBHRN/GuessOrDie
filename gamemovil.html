<!DOCTYPE html>

<html lang = "es">
    <head>
        <meta charset = "UTF - 8">
        <meta name="viewport" content="width = device-width">
        <title>GuessOrLose</title>
        <link rel="stylesheet"  href="reset.css">
        <link rel="stylesheet"  href="movil-style.css">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet"> 
    </head>

    <body>
        <header>
            <div class="caja">
                <h1><img class="logo" src="imagenes/Logo.png" alt="Logo de GuessOrLose"></h1>
                </div>
        </header>
        <main>
            <section class="fondo-principal">
                <div id="lienzo">
                    <canvas id="test" width="800" height="400"></canvas>
                    <div class="caja2">
                        <nav>
                            <ul>
                                <input class="contestar" placeholder="Letra">
                                <button onclick="verificar();" class="enviar">enviar</button>
                                <button onclick="updatescreen();" id="reinicio" >¡Juega otra vez!</button>
                                <button onclick="addword();" id="agregar">¡Agrega más palabras!</button>
                                </ul>
                        </nav>
                    </div>
                </div>
            </section>
            <section>
                <script>
                    alert("Por favor pon tu pantalla de forma horizontal para una mejor experiencia")
                    var pantalla = document.querySelector("canvas");
                    var pincel = pantalla.getContext("2d");
                    document.getElementById("reinicio").style.display = 'none';
                    document.getElementById("agregar").style.display = 'none';
                    
                    palabras = ["VAQUERO","ZORRO","AGUILA","CRUZ","ESPIA","POLICIA","BAILE","MUSICA","ALIANZA","ANGEL","APOCALIPSIS","ALMA","COMIDA","FELICIDAD","EXODO","GLORIA","GRACIA","ALEMANIA","NORUEGA","ISRAEL","JUICIO","JUSTICIA","LEY","LUZ","ARBOL","MILAGRO","VIDA","NUMEROS","PADRE","HIJO","PERDON","RICO","POBRE","REINO","PRINCIPE","SABIDURIA","FIDELIDAD","VENADO","MEDICINA","GUERRA","JINETE","LANZA","PISTOLA","SOLDADO","SOL","LUNA","PRINCESA","REINA","SUPERHEROE","PODER","ALAS","PIZZA","HAMBURGUESA","MALTEADA","SUSHI","MARISCOS","CEVICHE","TAMALES","CHILE","TACOS","TRUFA","OBSTACULO","PUERTA","HOGAR","FUEGO","LOBO","LEON","OJO","CABEZA","PIES","HIGADO","CORAZON","PULMONES","RELOJ","CELULAR","COMPUTADORA","INTERNET","VIDEOJUEGOS","PROGRAMACION","GUITARRA","PIANO","BATERIA","TROMPETA","CANTANTE","PASTOR","IGLESIA","CARTA","BIBLIA","TELEVISION","CODIGO","CALCULADORA","HOLOGRAMA","ALGORITMO","MISION","MAGIA","PASION","DIVERSION","VIOLIN","AUDIFONOS","TECLADO","NEGOCIO","HELADO","DIMENSION"]
                    function aleatorio() {
    
                    return Math.round(Math.random() * palabras.length);
                    
                    }

                    
                    function square(x,y,color) {
                    
                        pincel.fillStyle = color;
                        pincel.fillRect(x,y,40,1.5);

                        pincel.strokeStyle = "black";
                        pincel.strokeRect(x,y,40,1.5);

                    }
                    var palabracompleta = palabras[aleatorio()];
                    var letras = palabracompleta.split("")

                    
                    function escribirTexto(x , y, texto, color, size) {
                    
                    pincel.font=size;
                    pincel.fillStyle=color;
                    pincel.fillText(texto, x, y);
                }   var x = 7.5;
                    function wordchoice(){
                    palabracompleta = palabras[aleatorio()];
                    console.log(palabracompleta)
                    letras = palabracompleta.split("")
                    for(var posicion = 0; posicion < letras.length; posicion++){
                        square(x,350,"#ffffff");
                        x = x + 50;
                        }
                    
                    }
                    wordchoice();
                    horca();
                    var numero = 1;
                    var points = 0;
                    var intentos = 6;
                    function horca(){
                        pincel.fillStyle= "white";
                        pincel.fillRect(147.5,40, 5, 30);
                        pincel.strokeStyle="black";
                        pincel.strokeRect(147.5,40, 5, 30);

                        pincel.fillStyle= "white";
                        pincel.fillRect(45,35, 120, 5);
                        pincel.strokeStyle="black";
                        pincel.strokeRect(45,35, 120, 5);

                        pincel.fillStyle= "white";
                        pincel.fillRect(45,35, 5, 250);
                        pincel.strokeStyle="black";
                        pincel.strokeRect(45,35, 5, 250);

                        pincel.fillStyle= "white";
                        pincel.fillRect(20,280, 120, 5);
                        pincel.strokeStyle="black";
                        pincel.strokeRect(40,280, 120, 5);
                    }
                    function cabeza() {
                        pincel.fillStyle = "black";
                        pincel.beginPath();
                        pincel.arc(150, 100, 32.5, 0, 2*3.14);
                        pincel.fill();
                        pincel.fillStyle = "white";
                        pincel.beginPath();
                        pincel.arc(150, 100, 25, 0, 2*3.14);
                        pincel.fill();
                    }
                    function torso() {
                        pincel.fillStyle= "white";
                        pincel.fillRect(142.5,132.5, 15, 92.5);
                        pincel.strokeStyle="black";
                        pincel.strokeRect(142.5,132.5, 15, 92.5);
                    }
                    function brazoleft(){
                        pincel.fillStyle = "white"
                        pincel.beginPath();
                        pincel.moveTo(142.5, 140);
                        pincel.lineTo(112.5, 170);
                        pincel.lineTo(112.5, 180);
                        pincel.lineTo(142.5, 150);
                        pincel.moveTo(142.5, 140);
                        pincel.fill();
                    }
                    function brazoright(){
                        pincel.fillStyle = "white"
                        pincel.beginPath();
                        pincel.moveTo(157.5, 140);
                        pincel.lineTo(178.5, 170);
                        pincel.lineTo(178.5, 180);
                        pincel.lineTo(157.5, 150);
                        pincel.moveTo(157.5, 140);
                        pincel.fill();
                    }
                    function piernaleft(){
                        pincel.fillStyle = "white"
                        pincel.beginPath();
                        pincel.moveTo(157.5, 215);
                        pincel.lineTo(112.5, 245);
                        pincel.lineTo(112.5, 255);
                        pincel.lineTo(157.5, 225);
                        pincel.moveTo(157.5, 215);
                        pincel.fill();
                    }
                    function piernaright(){
                        pincel.fillStyle = "white"
                        pincel.beginPath();
                        pincel.moveTo(157.5, 215);
                        pincel.lineTo(178.5, 245);
                        pincel.lineTo(178.5, 255);
                        pincel.lineTo(157.5, 225);
                        pincel.moveTo(157.5, 215);
                        pincel.fill();
                    }
                    var outString = 0;
                    function eliminarespeciales(Letras){
            
                        const outString = Letras.replace(/[`~¡!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi, '');
                        return outString;
                    }
                    function eliminarnumeros(Numeros){
            
                        const outString = Numeros.replace(/\d/g, '');
                        return outString;
                    }
                    const nuevaStr = 0;
                    function inputfiltro(texto){
                        outString = texto;
                        outString = outString.toUpperCase();
                        outString2 = eliminarespeciales(outString)
                        outString3 = eliminarnumeros(outString)
                        
                        return outString3;
                }
                var respuestasmalas = [""];
                var respuestasbuenas = [""];

                    function verificar() {
                    respuesta = input.value;
                    respuesta = inputfiltro(respuesta);
                    var encontrado = false;
                    
                    
                    for (var posicion = 0; posicion < letras.length; posicion++) {
                        
                        if (respuesta == letras[posicion]) {
                            x = 12.5;
                            x = x + (50 * posicion);
                            encontrado = true;
                            escribirTexto(x , 350, respuesta,"white","35px Georgia");
                            points++
                                //respuestasbuenas.push(respuesta);
                            
                                }
                            }
                        if (respuesta == "") {
                            intentos++;
                        }
                        
                        if (encontrado == false) {
                            x = 20 * numero;
                            
                            
                                for (var posicion = 0; posicion < respuestasmalas.length; posicion++) {
                                    if (respuesta == respuestasmalas[posicion]) {
                                        console.log("repetido");
                                        console.log(posicion)
                                        break;
                                    }
                                }
                                    if (respuesta != respuestasmalas[posicion]){
                                        escribirTexto(x , 400, respuesta,"red","28px Georgia");
                                        numero = numero + 1;
                                        intentos = intentos - 1;
                                        respuestasmalas.push(respuesta);
                                        
                                    }
                            
                                }
                        if (intentos == 5) {
                            cabeza();
                        }
                        if (intentos == 4) {
                            torso();
                        }
                        if (intentos == 3) {
                            piernaleft();
                        }
                        if (intentos == 2) {
                            piernaright();
                        }
                        if (intentos == 1) {
                            brazoleft();
                        }
                        
                        input.value = "";
                        input.focus();
                        console.log(respuestasmalas);
                        if (intentos == 0) {
                            brazoright();
                            escribirTexto(200 , 150, "Haz perdido"," #f8c1c1 ","35px Georgia");
                            escribirTexto(200 , 195, "la palabra era:", "#f8c1c1" ,"35px Georgia");
                            escribirTexto(200 , 240, palabracompleta, "#f8c1c1" ,"35px Georgia");
                            document.getElementById("reinicio").style.display = '';
                            document.getElementById("agregar").style.display = '';
                            
                        }
                        
                        
                        if (points >= letras.length) {
                            escribirTexto(200 , 150, "¡Felicidades","#c2ffb1","35px Georgia");
                            escribirTexto(200 , 175, "haz terminado!","#c2ffb1","35px Georgia");
                            document.getElementById("reinicio").style.display = '';
                            document.getElementById("agregar").style.display = '';
                        }
                        
                    }
                
                    function updatescreen(){
                    pincel.clearRect(0, 0, 1200, 400);
                    points = 0;
                    intentos = 6;
                    x = 7.5;
                    respuestasmalas = [""];
                    respuestasbuenas = [""];
                    input.value = "";
                    input.focus();
                    document.getElementById("reinicio").style.display = 'none';
                    document.getElementById("agregar").style.display = 'none';
                    wordchoice();
                    horca();
                    }
                    function addword(){
                        var palabranueva = prompt("Ingresa la nueva palabra")
                        palabranueva = inputfiltro(palabranueva);
                        palabras.push(palabranueva)
                        console.log(palabras)
                    }
                    var input = document.querySelector("input");
                    input.focus();
                </script>
            </section>
        </main>
        <script>



        </script>
        <footer>
            <img src="imagenes/Logoblanco.png" class="logo" alt="Logo de SpyLetter">
            <div class="socialmedia">
                <a href="https://www.instagram.com/susy_diaz73/" class="link">
                  <img class="fa-brands fa-instagram instagram"> <img id="insta" src="imagenes/insta.jpg"></i>
              </a>
              <a href="https://twitter.com/dbhrnf" class="link">
                  <img class="fa-brands fa-twitter twitter"> <img id="twitter" src="imagenes/twitter.png"></img>
              </a>
              <a href="https://www.youtube.com/channel/UC0TDqzbyJ_4RWAOPCg_9isw" class="link">
                  <img class="fa-brands fa-youtube youtube"> <img id="youtube" src="imagenes/youtube.png"></img>
              </a>
              <a href="https://www.linkedin.com/in/susy-diaz/" class="link">
                  <img class="fa-brands fa-linkedin linkedin"> <img id="linkedin" src="imagenes/linkedin.jpg"></img>
              </a>
                </div>
            <p class="copyright">&copy Copyright GuessOrLose - 2022</p>
        </footer>

    </body>

</html>